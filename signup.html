<!doctype html>
<html>
<head>
<title></title>
<meta charset="utr-8">
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<style>
    h1, h2, h3{
        text-align:center;
    }
    h1{
        margin-top:100px;
    }
    h3{
      padding-top: 20px;
      padding-bottom: 20px;
    }
    .input{
        margin-left: 150px;
        margin-right: 150px;
        display: grid;
        grid-template-columns: 1fr 1fr;
    }
    .inputexplain{
      padding-left: 100px;
    }

    #signup_page{
      margin-left: 200px;
      margin-right: 200px;
      border: 2px solid gray;
    }
    #signup_button{
        margin-top:30px;
        text-align:center;
    }
    .signup{
        margin-top: 40px;
        text-align:center;
        padding-bottom: 40px;
    }
    .explain{
        margin-left: 100px;
        margin-right: 100px;
        margin-bottom: 23px;
        display:grid;
        grid-template-columns: 1fr 1fr;
    }
    .explain .explaination{
        font-size: 8px;
        color:gray;
    }
</style>


</head>




<body>

<h1>WELCOME TO MDSC</h1>
<h2>Medical Data Service Center</h2>
<div id="signup_page">
    <h3>SIGN UP</h3>
    <div>
        <div class = "input">
            <div class='inputexplain'>
            Division
            </div>
            <div>
              <select id='division' name='division'>
                <option value='Male'>Choose your division</option>
                <option value='Male'>Individual</option>
                <option value='Male'>Doctor</option>
              </select>
            </div>
        </div>
        <div class="explain">
            <div></div>
            <div class="explaination">의사/일반인을 선택하세요.</div>
        </div>
        <div class = "input">
            <div class='inputexplain'>
            SEX
            </div>
            <div>
              <select id='sex' name='sex'>
                <option value='Male'>Choose your Sex</option>
                <option value='Male'>Male</option>
                <option value='Male'>Female</option>
              </select>
            </div>
        </div>
        <div class="explain">
            <div></div>
            <div class="explaination">성별을 입력하세요.</div>
        </div>
        <div class = "input">
            <div class='inputexplain'>
            Name
            </div>
            <div>
            <input type="text" id="name" placeholder="Name">
            </div>
        </div>
        <div class="explain">
            <div></div>
            <div class="explaination">이름을 입력하세요.</div>
        </div>
        <div class = "input">
            <div class='inputexplain'>
            Birthday
            </div>
            <div>
            <input type="text" id="birthday" placeholder="2000.01.01">
            </div>
        </div>
        <div class="explain">
            <div></div>
            <div class="explaination">생년월일을 입력하세요.</div>
        </div>
        <div class = "input">
            <div class='inputexplain'>
            ID
            </div>
            <div>
            <input type="text" id="id" placeholder="ID">
            </div>
        </div>
        <div class="explain">
            <div></div>
            <div class="explaination">4~12자의 영문 소문자, 숫자 조합으로 아이디를 입력하세요.</div>
        </div>
        <div class = "input">
            <div class='inputexplain'>
            Password
            </div>
            <div>
            <input type="password" id="password" placeholder="Password">
            </div>
        </div>
        <div class="explain">
            <div></div>
            <div class="explaination">8~20자 사이의 영소/대문자와 특수문자가 포함되어야합니다.</div>
        </div>
        <div class = "input">
            <div class='inputexplain'>
            Confirm Password
            </div>
            <div>
            <input type="password" id="password_confirm" placeholder="Password">
            </div>
        </div>
        <div class="explain">
            <div></div>
            <div class="explaination">8~20자 사이의 영소/대문자와 특수문자가 포함되어야합니다.</div>
        </div>
        <div class = "input">
            <div class='inputexplain'>
            Email
            </div>
            <div>
            <input type="text" id="email" placeholder="Example@example.com">
            </div>
        </div>
        <div class="explain">
            <div></div>
            <div class="explaination">ID/Password 분실 시 사용됨으로 유효한 이메일을 입력하세요.</div>
        </div>

        <div id = "signup_button">
            <input type="button" value="SIGNUP"/>
        </div>

        <script>
          $('#signup_button input').click(function(){
            if($('#division option:selected').text() == 'Choose your division'){
              alert('CHOOSE YOUR DIVISION');
            } else if($('#sex option:selected').text() == 'Choose your Sex'){
              alert('CHOOSE YOUR SEX');
            } else if($('#name').val().length <2){
              alert('Enter your Name')
            } else if($('#birthday').val().length != 10 ){ /*생일 관련 조건 추가 필요*/
              alert('Enter valid birthday')
            }
            else if($('#id').val().length < 4 || $('#id').val().length > 12){
              alert('ID 글자수 맞춰!');
            } else if($('#password').val().length < 8){
              alert('password must be longer than 8');
            } else if($('#email').val().search('@')<0){
              alert('Enter valid email address')
            } else if($('#password').val() != $('#password_confirm').val()){
              alert('Password confirm is different')
            } else {
              var items = new Array();
              $.ajax({

                url: "/trysignup",
                type: "post",
                data: {division:$('#division option:selected').text(), sex:$('#sex option:selected').text(), name:$('#name').val(), birthday:$('#birthday').val(), id:$('#id').val(), pw:$('#password').val(), email:$('#email').val(), item:items},
                dataType: "json",
                success: function(response){
                  if(response['result'] == 0){
                    alert('SIGN UP FAIL');
                  } else if(response['result'] == 1){
                    alert('SUCCESS SIGNUP! GO LOGIN');
                    location.href="/";
                  } else if(response['result' == 2]){
                    alert('ID Already Exist!')
                  } else{
                    alert("I don't know why but SIGN UP FAIL");
                  }
                }
              })
            }
          })
        </script>

    </div>
    <!--Jquery로 뭔가를 쳤을 때, 보내기 전에 클라이언트 단에서 뭔가 검사를 하는게 좋지않을까?
    <script>
    https://m.blog.naver.com/PostView.nhn?blogId=battle50&logNo=220027096088&proxyReferer=https:%2F%2Fwww.google.com%2F
    비밀번호 유효성 체크(자릿수 체크, 영문-숫자-특수문자, 같은문자 체크)
    </script>
    -->


    <!--ajax 통신이 들어가야함. 추가적으로,
    <script>

    </script>
    -->
    <div class = "signup">
        <a href="find_Idpw.html">FORGOT ID/PASSWORD</a>
    </div>
</div>



</body>





</html>
